<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <title>Dejavu Tours Details</title>
</head>

<body class="bg-light text-dark">

    <h1 class="text-primary">
        <center>
            Dejavu Tours&Treks : Package Costing
        </center>
    </h1>
    <% if(message){ %>
    <h4  class="text-danger">
        <center>
            <%= message %>
        </center>
    </h4>
    <% } %>


    <form  >

       <!--<input type="hidden" name="_csrf" value="<%= csrfToken %>">--> 
        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="persons" class="form-label">Number of persons:- </label>
                <input type="number" class="form-control" name="persons" id="persons" placeholder="" value="" required="">
            </div>
        </div>
        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="nodays" class="form-label">Number of days:- </label>
                <input type="number" class="form-control" name="nodays" id="nodays" placeholder="" value="" required="">
            </div>
        </div>
        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="rooms" class="form-label">Number of rooms:- </label>
                <input type="number" class="form-control" name="rooms" id="rooms" placeholder="" value="" required="">
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-md-4">
                <label for="state" class="form-label">Select Stay Type</label>
                <select class="form-select" name="stay_type" id="stay_type" required="">
                    <option value="">Select Stay Type</option>
                    <option  value=2500>Budget - Camping</option>
                    <option value=3500>Homestay Exprience</option>
                    <option value=4500>Delux Comfort</option>
                    <option value=6000>Luxury Stay</option>
                    <option value=10000> Tent City/Premium</option>
                </select>
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-md-4">
                <label for="state" class="form-label">Select Transport Type</label>
                <select class="form-select" name="transport" id="transport" required="">
                    <option value="">Select Transport</option>
                    <option value=4000>Sedan</option>
                    <option value=5200>Innova</option>
                    <option value=8000>Tempo</option>
                    <option value=10000>Mini Bus</option>
                </select>
            </div>
        </div>
        
        <div class="container-fluid">
            <div class="col-sm-6">
                <br>
                <center><button type="submit"  id="cal" class="btn btn-primary">Submit</button></center>
            </div>
        </div>
        
        <div class="container-fluid" id="result">
        </div>
    </form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script>
$(document).ready(function(){
$('#cal').click(function(e){
e.preventDefault();
});
$('#cal').click(function(){
    console.log("dsgfsdh")
    var persons = parseFloat($('#persons').val());
    var days = parseFloat($('#nodays').val());
    var rooms = parseFloat($('#rooms').val());
    var stay = parseFloat($('#stay_type').val());
    var transport = parseFloat($('#transport').val());
    var share = parseFloat($('#share').val());
    //var per_dayrooms = parseFloat($('#per_dayrooms').val());
    var room_perday_cost = stay/(days-1);
    var tot_pack = (days*transport) + ((days-1)*(room_perday_cost*rooms));
    var transport_cost = transport*days;
    var stay_cost = (rooms)*(days-1);
    var costper = tot_pack/persons;
    console.log(days)
    $("#result").html("<p>Total Package : "+ tot_pack +"</br> Transportation Cost: "+transport_cost+"<br/> Stay Cost: "+stay_cost+"</br> Cost Per Person:"+costper+"</p>");

}) ;   
});
    </script>
</body>

</html>

